# 9ì¥ í›…

## 9.1 ë¦¬ì•¡íŠ¸ í›…

ë¦¬ì•¡íŠ¸ í›…ì´ ì¶”ê°€ë˜ê¸° ì´ì „ì—ëŠ” í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì—ˆë‹¤. í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” í•˜ë‚˜ì˜ ìƒëª…ì£¼ê¸° í•¨ìˆ˜ì—ì„œë§Œ ìƒíƒœ ì—…ë°ì´íŠ¸ì— ë”°ë¥¸ ë¡œì§ì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆì—ˆë‹¤. ë¦¬ì•¡íŠ¸ í›…ì´ ë„ì…ë˜ë©´ì„œ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì™€ ê°™ì´ ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ì— ë§ì¶° ë¡œì§ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì´ì— ë”°ë¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¬ì‚¬ìš©í•˜ê±°ë‚˜ ì‘ì€ ë‹¨ìœ„ë¡œ ì½”ë“œë¥¼ ë¶„í• í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²Œ ìš©ì´í•´ì¡Œìœ¼ë©° ì‚¬ì´ë“œ ì´í™íŠ¸ì™€ ìƒíƒœë¥¼ ê´€ì‹¬ì‚¬ì— ë§ê²Œ ë¶„ë¦¬í•˜ì—¬ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

### 1. `useState`

ë¦¬ì•¡íŠ¸ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ `useState` í›…ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. `useState`ì˜ íƒ€ì… ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```ts
function useState<S>(
  initialState: S | (() => S)
): [S, Dispatch<SetStateAction<S>>];

type Dispatch<A> = (value: A) => void;
type SetStateAction<S> = S | ((prevState: S) => S);
```

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì ìš© ì˜ˆì‹œ

```ts
import { useState } from "react";

interface Member {
  name: string;
  age: number;
}

const MemberList = () => {
  const [memberList, setMemberList] = useState<Member[]>([]);

  // memberì˜ íƒ€ì…ì´ Member íƒ€ì…ìœ¼ë¡œ ë³´ì¥ëœë‹¤
  const sumAge = memberList.reduce((sum, member) => sum + member.age, 0);

  const addMember = () => {
  // ğŸš¨ Error: Type â€˜Member | { name: string; agee: number; }â€™
  // is not assignable to type â€˜Memberâ€™
    setMemberList([
      ...memberList,
      {
        name: "DokgoBaedal",
        agee: 11,
      },
    ]);
  };

  return (
    // ...
  );
};
```

### 2. ì˜ì¡´ì„± ë°°ì—´ì„ ì‚¬ìš©í•˜ëŠ” í›…

#### `useEffect`ì™€ `useLayoutEffect`

`useEffect`ì˜ íƒ€ì… ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤

```ts
function useEffect(effect: EffectCallback, deps?: DependencyList): void;
type DependencyList = ReadonlyArray<any>;
type EffectCallback = () => void | Destructor;
```

`useEffect`ì˜ ì²« ë²ˆì§¸ ì¸ìì´ì `effect`ì˜ íƒ€ì…ì¸ `EffectCallback`ì€ `Destructor`ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ ì•„ë¬´ê²ƒë„ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ì´ë‹¤. `Promise` íƒ€ì…ì€ ë°˜í™˜í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ `useEffect`ì˜ ì½œë°± í•¨ìˆ˜ì—ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ë‹¤. `useEffect`ì—ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤ë©´ ê²½ìŸ ìƒíƒœë¥¼ ë¶ˆëŸ¬ì¼ìœ¼í‚¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

> ê²½ìŸ ìƒíƒœ(Race Condition)
>
> ë©€í‹°ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œ ë™ì‹œì— ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ê³µìœ ëœ ìì›ì— ì ‘ê·¼í•˜ë ¤ê³  í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë‹¤. ì´ëŸ¬í•œ ìƒí™©ì—ì„œ ì‹¤í–‰ ìˆœì„œë‚˜ íƒ€ì´ë°ì„ ì˜ˆì¸¡í•  ìˆ˜ ì—†ê²Œ ë˜ì–´ í”„ë¡œê·¸ë¨ ë™ì‘ì´ ì›í•˜ì§€ ì•ŠëŠ” ë°©í–¥ìœ¼ë¡œ íë¥¼ ìˆ˜ ìˆë‹¤.

ë‘ ë²ˆì§¸ ì¸ìì¸ `deps`ëŠ” ì˜µì…”ë„í•˜ê²Œ ì œê³µë˜ë©´ `effect`ê°€ ìˆ˜í–‰ë˜ê¸° ìœ„í•œ ì¡°ê±´ì„ ë‚˜ì—´í•œë‹¤. `useEffect`ëŠ” `deps`ê°€ ë³€ê²½ë˜ì—ˆëŠ”ì§€ë¥¼ ì–•ì€ ë¹„êµë¡œë§Œ íŒë‹¨í•˜ê¸° ë•Œë¬¸ì—, ì‹¤ì œ ê°ì²´ ê°’ì´ ë°”ë€Œì§€ ì•Šì•˜ë”ë¼ë„ ê°ì²´ì˜ ì°¸ì¡° ê°’ì´ ë³€ê²½ë˜ë©´ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ê°’ì„ `deps`ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```ts
const { id, name } = value;

useEffect(() => {
  // value.nameê³¼ value.id ëŒ€ì‹  name, idë¥¼ ì§ì ‘ ì‚¬ìš©í•œë‹¤
}, [id, name]);
```

`deps`ê°€ ë¹ˆ ë°°ì—´ì´ë¼ë©´ `useEffect`ì˜ ì½œë°± í•¨ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë Œë”ë§ë  ë•Œë§Œ ì‹¤í–‰ë˜ë©°, ì´ë•Œì˜ `Destructor`(í´ë¦°ì—… í•¨ìˆ˜)ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë  ë•Œ ì‹¤í–‰ëœë‹¤. ê·¸ëŸ¬ë‚˜ `deps` ë°°ì—´ì´ ì¡´ì¬í•œë‹¤ë©´, ë°°ì—´ì˜ ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ `Destructor`ê°€ ì‹¤í–‰ëœë‹¤.

> í´ë¦°ì—…(Cleanup) í•¨ìˆ˜
>
> `useEffect`ë‚˜ `useLayoutEffect`ì™€ ê°™ì€ ë¦¬ì•¡íŠ¸ í›…ì—ì„œ ì‚¬ìš©ë˜ë©°, ì»´í¬ë„ŒíŠ¸ê°€ í•´ì œë˜ê¸° ì „ì— ì •ë¦¬(clean up) ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ë¥¼ ë§í•œë‹¤.

`useEffect`ì™€ ë¹„ìŠ·í•œ ì—­í• ì„ í•˜ëŠ” í›…ìœ¼ë¡œ `useLayoutEffect`ê°€ ìˆë‹¤.

```ts
type DependencyList = ReadonlyArray<any>;

function useLayoutEffect(effect: EffectCallback, deps?: DependencyList): void;
```

`useLayoutEffect`ë¥¼ ì‚¬ìš©í•˜ë©´ í™”ë©´ì— í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ê·¸ë ¤ì§€ê¸° ì „ì— ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.

#### `useMemo`ì™€ `useCallback`

`useMemo`ì™€ `useCallback` ëª¨ë‘ ì´ì „ì— ìƒì„±ëœ ê°’ ë˜ëŠ” í•¨ìˆ˜ë¥¼ ê¸°ì–µí•˜ë©°, ë™ì¼í•œ ê°’ê³¼ í•¨ìˆ˜ë¥¼ ë°˜ë³µí•´ì„œ ìƒì„±í•˜ì§€ ì•Šë„ë¡ í•´ì£¼ëŠ” í›…ì´ë‹¤.

```ts
type DependencyList = ReadonlyArray<any>;

function useMemo<T>(factory: () => T, deps: DependencyList | undefined): T;
function useCallback<T extends (...args: any[]) => any>(
  callback: T,
  deps: DependencyList
): T;
```

ë‘ í›… ëª¨ë‘ ì œë„¤ë¦­ì„ ì§€ì›í•˜ê¸° ìœ„í•´ `T` íƒ€ì…ì„ ì„ ì–¸í•´ì£¼ë©° `useCallback`ì€ í•¨ìˆ˜ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ì œë„¤ë¦­ì˜ ê¸°ë³¸ íƒ€ì…ì„ ì§€ì •í•˜ê³  ìˆë‹¤.

1. `useEffect`ì™€ ë¹„ìŠ·í•œ ì£¼ì˜ì‚¬í•­ì„ ê°–ëŠ”ë‹¤.
2. ëª¨ë“  ê°’ê³¼ í•¨ìˆ˜ì— ì‚¬ìš©í•´ ê³¼ë„í•˜ê²Œ ë©”ëª¨ì´ì œì´ì…˜í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ ì„±ëŠ¥ í–¥ìƒì´ ë³´ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

### 3. `useRef`

```ts
import { useRef } from "react";

const MyComponent = () => {
  const ref = useRef<HTMLInputElement>(null);

  const onClick = () => {
    ref.current?.focus();
  };

  return (
    <>
      <button onClick={onClick}>refì— í¬ì»¤ìŠ¤!</button>
      <input ref={ref} />
    </>
  );
};

export default MyComponent;
```

`useRef`ì˜ ì œë„¤ë¦­ì— `HTMLInputElement | null`ì´ ì•„ë‹Œ `HTMLInputElement`ë§Œ ë„£ì–´ì£¼ì—ˆëŠ”ë° ì–´ë–»ê²Œ ì´ˆê¸° ì„¤ì •ê°’ì— `null`ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìœ¼ë©°, `ref`ì— `input` ìš”ì†Œë¥¼ ì €ì¥í•  ìˆ˜ ìˆì„ê¹Œ?

`useRef`ëŠ” ì„¸ ì¢…ë¥˜ì˜ íƒ€ì… ì •ì˜ë¥¼ ê°€ì§€ê³  ìˆë‹¤. `useRef`ì— ë„£ì–´ì£¼ëŠ” ì¸ì íƒ€ì…ì— ë”°ë¼ ë°˜í™˜ë˜ëŠ” íƒ€ì…ì´ ë‹¬ë¼ì§„ë‹¤.

```ts
function useRef<T>(initialValue: T): MutableRefObject<T>;
function useRef<T>(initialValue: T | null): RefObject<T>;
function useRef<T = undefined>(): MutableRefObject<T | undefined>;

interface MutableRefObject<T> {
  current: T;
}

interface RefObject<T> {
  readonly current: T | null;
}
```

`useRef`ëŠ” `MutableRefObject` ë˜ëŠ” `RefObject`ë¥¼ ë°˜í™˜í•œë‹¤.

`MutableRefObject`ì˜ `current`ëŠ” ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ë§Œì•½ `null`ì„ í—ˆìš©í•˜ê¸° ìœ„í•´ `useRef`ì˜ ì œë„¤ë¦­ì— `HTMLInputElement | null` íƒ€ì…ì„ ë„£ì–´ì£¼ì—ˆë‹¤ë©´, í•´ë‹¹ `useRef`ëŠ” ì²« ë²ˆì§¸ íƒ€ì… ì •ì˜ë¥¼ ë”°ë¥¼ ê²ƒì´ë‹¤. ì´ë•Œ `MutableRefObject`ì˜ `current`ëŠ” ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê°’ì´ ë˜ì–´ `ref.current`ì˜ ê°’ì´ ë°”ë€ŒëŠ” ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

ë°˜ë©´ `RefObject`ì˜ `current`ëŠ” `readonly`ë¡œ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤. ì•ì˜ ì˜ˆì‹œì—ì„œëŠ” `useRef`ì˜ ì œë„¤ë¦­ìœ¼ë¡œ `HTMLInputElement`ì„ ë„£ê³ , ì¸ìì— `null`ì„ ë„£ì–´ `useRef`ì˜ ë‘ ë²ˆì§¸ íƒ€ì… ì •ì˜ë¥¼ ë”°ë¥´ê²Œ ëœë‹¤. ì´ëŸ¬ë©´ `RefObject`ë¥¼ ë°˜í™˜í•˜ì—¬ `ref.current` ê°’ì„ ì„ì˜ë¡œ ë³€ê²½í•  ìˆ˜ ì—†ê²Œ ëœë‹¤.

#### ìì‹ ì»´í¬ë„ŒíŠ¸ì— `ref` ì „ë‹¬í•˜ê¸°

ì»´í¬ë„ŒíŠ¸ì— `ref`ë¥¼ ì „ë‹¬í•  ë•Œ ì¼ë°˜ì ì¸ `props`ë¡œ ë„˜ê²¨ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì „ë‹¬í•˜ë©´ ë¸Œë¼ìš°ì €ì—ì„œ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë„ìš´ë‹¤.

```ts
import { useRef } from "react";

const Component = () => {
  const ref = useRef<HTMLInputElement>(null);
  return <MyInput ref={ref} />;
};

interface Props {
  ref: RefObject<HTMLInputElement>;
}

/**
  * ğŸš¨ Warning: MyInput: `ref` is not a prop. Trying to access it will result in
  `undefined` being returned
  * If you need to access the same value within the child component, you should pass
  it as a different prop
  */
const MyInput = ({ ref }: Props) => {
  return <input ref={ref} />;
};
```

`ref`ë¼ëŠ” ì†ì„±ì˜ ì´ë¦„ì€ ë¦¬ì•¡íŠ¸ì—ì„œ 'DOM ìš”ì†Œ ì ‘ê·¼'ì´ë¼ëŠ” íŠ¹ìˆ˜í•œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— `props`ë¥¼ ë„˜ê²¨ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ì—†ê³  `forwardRef`ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

> `ref`ê°€ ì•„ë‹Œ `inputRef` ë“±ì˜ ë‹¤ë¥¸ ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤ë©´ `forwardRef`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

```ts
interface Props {
  name: string;
}

const MyInput = forwardRef<HTMLInputElement, Props>((props, ref) => {
  return (
    <div>
      <label>{props.name}</label>
      <input ref={ref} />
    </div>
  );
});
```

ìœ„ì™€ ê°™ì´ `forwardRef`ì˜ ë‘ ë²ˆì§¸ ì¸ìì— `ref`ë¥¼ ë„£ì–´ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ `ref`ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. `forwardRef`ì˜ íƒ€ì… ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```ts
function forwardRef<T, P = {}>(
  render: ForwardRefRenderFunction<T, P>
): ForwardRefExoticComponent<PropsWithoutRef<P> & RefAttributes<T>>;
```

`forwardRef`ì— ì¸ìë¡œ ë„˜ê²¨ì£¼ëŠ” ì½œë°± í•¨ìˆ˜ì¸ `ForwardRefRenderFunction`ì˜ íƒ€ì… ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```ts
interface ForwardRefRenderFunction<T, P = {}> {
  (props: P, ref: ForwardedRef<T>): ReactElement | null;
  displayName?: string | undefined;
  defaultProps?: never | undefined;
  propTypes?: never | undefined;
}
```

`ForwardRefRenderFunction`ì€ 2ê°œì˜ íƒ€ì… ë§¤ê°œë³€ìˆ˜ `T`ì™€ `P`ë¥¼ ë°›ëŠ”ë° ì£¼ëª©í•  ì ì€ `ref`ì˜ íƒ€ì…ì´ `T`ë¥¼ ë˜í•‘í•œ í˜•íƒœì¸ `ForwardedRef<T>`ë¼ëŠ” ê²ƒì´ë‹¤. `ForwardedRef`ì˜ íƒ€ì… ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```ts
type ForwardedRef<T> =
  | ((instance: T | null) => void)
  | MutableRefObject<T | null>
  | null;
```

ì•ì„œ `useRef`ì˜ ë°˜í™˜ íƒ€ì…ì€ `MutableRefObject<T>` ë˜ëŠ” `RefObject<T>`ê°€ ë  ìˆ˜ ìˆë‹¤ê³  í–ˆë‹¤. í•˜ì§€ë§Œ `ForwardedRef`ì—ëŠ” ì˜¤ì§ `MutableRefObject`ë§Œ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‹¤. `MutableRefObject`ê°€ `RefObject`ë³´ë‹¤ ë„“ì€ ë²”ìœ„ì˜ íƒ€ì…ì„ ê°€ì§€ê¸° ë•Œë¬¸ì—, ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ `ref`ë¥¼ ì–´ë–»ê²Œ ì„ ì–¸í–ˆëŠ”ì§€ì™€ ê´€ê³„ì—†ì´ ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ í•´ë‹¹ `ref`ë¥¼ ìˆ˜ìš©í•  ìˆ˜ ìˆë‹¤.

#### `useImperativeHandle`

`useImperativeHandle`ì€ `ForwardRefRenderFunction`ê³¼ í•¨ê¼ ì“¸ ìˆ˜ ìˆëŠ” í›…ì´ë‹¤. ì´ í›…ì„ í™œìš©í•˜ë©´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ `ref`ë¥¼ í†µí•´ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì •ì˜í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ëœ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì´ì— ë”°ë¼ ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë‚´ë¶€ ìƒíƒœë‚˜ ë¡œì§ì„ ê´€ë¦¬í•˜ë©´ì„œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì™€ì˜ ê²°í•©ë„ë„ ë‚®ì¶œ ìˆ˜ ìˆë‹¤.

```ts
import React, { useRef } from "react";

type CreateFormHandle = Pick<HTMLFormElement, "submit">;

type CreateFormProps = {
  defaultValues?: CreateFormValue;
};

type CreateFormValue = {
  jobTitle: string;
};

// forwardRefì™€ useImperativeHandle ì‚¬ìš©í•˜ì—¬ ìì‹ ì»´í¬ë„ŒíŠ¸ ì •ì˜
const JobCreateForm = React.forwardRef<CreateFormHandle, CreateFormProps>(
  (props, ref) => {
    // useImperativeHandleì„ ì‚¬ìš©í•´ ë¶€ëª¨ê°€ ì ‘ê·¼í•  ë©”ì„œë“œë¥¼ ì •ì˜
    useImperativeHandle(ref, () => ({
      submit: () => {},
    }));

    return (
      <form ref={formRef}>
        <label htmlFor="jobTitle">Job Title: </label>
        <input
          id="jobTitle"
          name="jobTitle"
          type="text"
          defaultValue={props.defaultValues?.jobTitle || ""}
        />
      </form>
    );
  }
);

// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ CreatePage
const CreatePage: React.FC = () => {
  const refForm = useRef<CreateFormHandle>(null);

  // ë²„íŠ¼ í´ë¦­ ì‹œ refë¥¼ í†µí•´ JobCreateFormì˜ submit ë©”ì„œë“œ í˜¸ì¶œ
  const handleSubmitButtonClick = () => {
    refForm.current?.submit(); // ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ submit í•¨ìˆ˜ í˜¸ì¶œ
  };

  return (
    <div>
      <h1>Create Job</h1>
      {/* ìì‹ ì»´í¬ë„ŒíŠ¸ì¸ JobCreateFormì„ ë Œë”ë§í•˜ê³ , refë¥¼ ì—°ê²° */}
      <JobCreateForm
        ref={refForm}
        defaultValues={{ jobTitle: "Frontend Developer" }}
      />

      {/* ë²„íŠ¼ í´ë¦­ ì‹œ ìì‹ì˜ submit ë©”ì„œë“œë¥¼ í˜¸ì¶œ */}
      <button onClick={handleSubmitButtonClick}>Submit Form</button>
    </div>
  );
};

export default CreatePage;
```

#### `useRef`ì˜ ì—¬ëŸ¬ ê°€ì§€ íŠ¹ì„±

- `useRef`ë¡œ ê´€ë¦¬ë˜ëŠ” ë³€ìˆ˜ëŠ” ê°’ì´ ë°”ë€Œì–´ë„ ì»´í¬ë„ŒíŠ¸ì˜ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœëŠ” ìƒíƒœ ë³€ê²½ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ë Œë”ë§ëœ ì´í›„ì— ì—…ë°ì´íŠ¸ëœ ìƒíƒœë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ë°˜ë©´ `useRef`ë¡œ ê´€ë¦¬ë˜ëŠ” ë³€ìˆ˜ëŠ” ê°’ì„ ì„¤ì •í•œ í›„ ì¦‰ì‹œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.

```ts
type BannerProps = {
  autoplay: boolean;
};

const Banner: React.FC<BannerProps> = ({ autoplay }) => {
  const isAutoPlayPause = useRef(false);

  if (autoplay) {
    // keepAutoPlay ê°™ì´ isAutoPlayê°€ ë³€í•˜ìë§ˆì ì‚¬ìš©í•´ì•¼ í•  ë•Œ ì“¸ ìˆ˜ ìˆë‹¤
    const keepAutoPlay = !touchPoints[0] && !isAutoPlayPause.current;

    // ...
  }
  return (
    <>
      {autoplay && (
        <button
          aria-label="ìë™ ì¬ìƒ ì¼ì‹œ ì •ì§€"
          // isAutoPlayPauseëŠ” ì‚¬ì‹¤ ë Œë”ë§ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê³  ë¡œì§ì—ë§Œ ì˜í–¥ì„ ì£¼ë¯€ë¡œ ìƒíƒœ
          ë¡œ
          ì‚¬ìš©í•´ì„œ
          ë¶ˆí•„ìš”í•œ
          ë Œë”ë§ì„
          ìœ ë°œí• 
          í•„ìš”ê°€
          ì—†ë‹¤
          onClick={() => {
            isAutoPlayPause.current = true;
          }}
        />
      )}
    </>
  );
};

const Label: React.FC<LabelProps> = ({ value }) => {
  useEffect(() => {
    // value.nameê³¼ value.idë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì—…í•œë‹¤
  }, [value]);

  // ...
};
```

ìœ„ ì˜ˆì‹œì²˜ëŸ¼ `isAutoPlayPause.current`ì— `null`ì´ ì•„ë‹Œ ê°’ì„ í• ë‹¹í•´ì„œ ë§ˆì¹˜ ë³€ìˆ˜ì²˜ëŸ¼ í™œìš©í•  ìˆ˜ë„ ìˆë‹¤.

> í›…ì˜ ê·œì¹™
>
> 1. í›…ì€ í•­ìƒ ìµœìƒìœ„ ë ˆë²¨ì—ì„œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤. ë‹¤ì‹œ ë§í•´ ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸, ì¤‘ì²© í•¨ìˆ˜, í´ë˜ìŠ¤ ë“œìœ¼ì´ ë‚´ë¶€ì—ì„œëŠ” í›…ì„ í˜¸ì¶œí•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. ì´ë ‡ê²Œ í•´ì•¼ `useState`ë‚˜ `useEffect`ê°€ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë˜ë”ë¼ë„ í›…ì˜ ìƒíƒœë¥¼ ì˜¬ë°”ë¥´ê²Œ ìœ ì§€í• ìˆ˜ ìˆê²Œ ëœë‹¤.
> 2. í›…ì€ í•­ìƒ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ë‚˜ ì»¤ìŠ¤í…€ í›… ë“±ì˜ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œë§Œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤.
>
> ì´ëŸ¬í•œ ê·œì¹™ì´ í•„ìš”í•œ ì´ìœ ëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ í›…ì€ í˜¸ì¶œ ìˆœì„œì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì—ì„œ í›…ì˜ ìˆœì„œê°€ í•­ìƒ ë™ì¼í•˜ê²Œ ìœ ì§€ë˜ì–´ì•¼ í•˜ë©°, ì´ë¥¼ í†µí•´ í•­ìƒ ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ì´ ë³´ì¥ëœë‹¤.

## 9.2 ì»¤ìŠ¤í…€ í›…

### 1. ë‚˜ë§Œì˜ í›… ë§Œë“¤ê¸°

ì»¤ìŠ¤í…€ í›…ì€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë° ì´ë¦„ì€ ë°˜ë“œì‹œ `use`ë¡œ ì‹œì‘í•´ì•¼ í•œë‹¤.

```ts
import { useState } from "react";

const useInput = (initialValue) => {
  const [value, setValue] = useState(initialValue);

  const onChange = (e) => {
    setValue(e.target.value);
  };

  return { value, onChange };
};

const MyComponent = () => {
  const { value, onChange } = useInput("");

  return (
    <div>
      <h1>{value}</h1>
      <input onChange={onChange} value={text} />
    </div>
  );
};

export default App;
```

### 2. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ì»¤ìŠ¤í…€ í›… ê°•í™”í•˜ê¸°

ê¸°ì¡´ ì½”ë“œë¥¼ .ts íŒŒì¼ì— ì‘ì„±í•˜ë©´ ì—ëŸ¬ê°€ ë‚œë‹¤.

```ts
import { useState, useCallback } from "react";

// ğŸš¨ Parameter â€˜initialValueâ€™ implicitly has an â€˜anyâ€™ type.ts(7006)
const useInput = (initialValue) => {
  const [value, setValue] = useState(initialValue);

  // ğŸš¨ Parameter â€˜eâ€™ implicitly has an â€˜anyâ€™ type.ts(7006)
  const onChange = useCallback((e) => {
    setValue(e.target.value);
  }, []);

  return { value, onChange };
};

export default useInput;
```

```ts
import { useState, useCallback, ChangeEvent } from "react";

// âœ… initialValueì— string íƒ€ì…ì„ ì •ì˜
const useInput = (initialValue: string) => {
  const [value, setValue] = useState(initialValue);

  // âœ… ì´ë²¤íŠ¸ ê°ì²´ì¸ eì— ChangeEvent<HTMLInputElement> íƒ€ì…ì„ ì •ì˜
  const onChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {
    setValue(e.target.value);
  }, []);

  return { value, onChange };
};

export default useInput;
```
